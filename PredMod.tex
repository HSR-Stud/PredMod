%%%%%%%%%%%%%%%%%%%%%%%%% 
% Dokumentinformationen % 
%%%%%%%%%%%%%%%%%%%%%%%%% 
\title{TSM\_PredMod}
\author{D. Wright, R. Ammann} % Do not remove any names!
% Initial authors stay first.
%\newcommand{\versioninfo}{FS2018}

\documentclass[10pt,twoside,a4paper,fleqn]{scrartcl}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Standard projektübergreifender Header für
% - Makros 
% - Farben
% - Mathematische Operatoren  
%
% DORT NUR ERGÄNZEN, NICHTS LÖSCHEN
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
\include{./header/zusammenfassung}

\usepackage{longtable}
\usepackage{float}
\usepackage{textcomp}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Additional commands and environments for this cheat sheet % 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% creates a pre-formatted two column table for arbitrary inputs 
\newenvironment{twoColTable}
{
	\begin{longtable}[t]{|p{0.475\textwidth}|p{0.475\textwidth}|}%
	}%
	{%
	\end{longtable}%
}

% creates a pre-formatted header row for the two column table
\newcommand{\twoColHdrRow}[1]
{%
	\rowcolor{HSRBlue40}\multicolumn{2}{|l|}{\textbf{#1}}
}

% creates a pre-formatted header cell for the two column table
\newcommand{\twoColHdrCell}[1]
{%
	\cellcolor{HSRBlue40}\textbf{#1}
}

% change listing caption to be consistent with the tables
\DeclareCaptionFont{black}{\color{black}}
\DeclareCaptionFormat{listing}{\fcolorbox{black}{HSRBlue40}{\parbox{0.985\textwidth}{\bfseries Code example: #3}}}
\captionsetup[lstlisting]{aboveskip=4pt, belowskip=10pt, format=listing,labelfont=black,textfont=black}
% Creates a pre-formatted code listing
\newcommand{\RCode}[2]
{%
	\lstinputlisting[style=R, frame=single, caption={#1}]{#2}% <-- 1st argument: caption, 2nd argument: path to source code file (.R)
}

% Creates a pre-formatted two column table with a code example column
% to the left, a command line output column to the right, and an 
% interpretation row for the command line output at the bottom
\newcommand{\RExample}[3]
{%
	\begin{twoColTable}
		\hline
		\twoColHdrCell{Source code:}
			&	\twoColHdrCell{Output:}\\*
		\hline
		\vspace{0pt}

		{\lstinputlisting[style=R]{#1}}% <-- source code here (1st argument: path to source code file (.R))
			&
			\vspace{0pt}

			{\lstinputlisting[style=R]{#2}}\\% <-- output here (2nd argument: path to output file (.R))
		\hline
		\twoColHdrRow{\textbf{Interpretation of output:}}\\*
		\hline
		\multicolumn{2}{|l|}{\begin{minipage}{0.95\textwidth}#3\end{minipage}}\\
		\hline
	\end{twoColTable}%
}

% Creates a pre-formatted two column table with a theory column
% to the left, a code example column to the right
\newcommand{\RTheory}[2]
{%
	\begin{twoColTable}
		\hline
		\twoColHdrCell{Theory}
			& \twoColHdrCell{Code Example}\\*
		\hline
		#1% <-- Theory here (1st argument: theory, entered directly in the call to the command)
			&
				\vspace{0pt}

				{\lstinputlisting[style=R]{#2}}\\% <-- source code here (2nd argument: path to source code file containing a short example (.R))
		\hline
	\end{twoColTable}%
}


% Captions for figures inside longtable
\makeatletter
\def\longtabFigCaption{%
    \refstepcounter{figure}%
    \@dblarg{\@caption{figure}}}
\makeatother

\raggedbottom

%%%%%%%%%%%%
% Document % 
%%%%%%%%%%%%
\begin{document} 

\numberwithin{figure}{section}
\numberwithin{table}{section}
\numberwithin{lstlisting}{section}

\selectlanguage{english}

\input{sections/RTutorial/RTutorial.tex}

\input{sections/ProbabilityStatistics/ProbabilityStatistics.tex}
\input{sections/RegressionAnalysis/RegressionAnalysis.tex}
\input{sections/Classification/Classification.tex}
\input{sections/TimeSeriesAnalysis/TimeSeriesAnalysis.tex}
% \clearpage
% \section{Idiotenseite}
% \input{idiotenseite/trigo/trigoInclude}
% \input{idiotenseite/diverses/subsections/unbestimmteIntegrale}
% \input{idiotenseite/diverses/subsections/Ableitungen}
\end{document}